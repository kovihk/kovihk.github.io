(function(){var __sections__={};(function(){for(var i=0,s=document.getElementById("sections-script").getAttribute("data-sections").split(",");i<s.length;i++)__sections__[s[i]]=!0})(),function(){if(__sections__.footer)try{const firstSectionImage=document.querySelector(".main-content > .shopify-section img");firstSectionImage&&(firstSectionImage.setAttribute("loading","eager"),firstSectionImage.setAttribute("fetchpriority","high"))}catch(e){console.error(e)}}(),function(){if(__sections__["s-associated-products"])try{const associatedProductsContainer=document.querySelector(".s-associated-products");if(associatedProductsContainer.classList.contains("recommended-products")){new IntersectionObserver(handleIntersection,{rootMargin:"0px 0px 200px 0px"}).observe(associatedProductsContainer);async function handleIntersection(entries,observer2){if(entries[0].isIntersecting){observer2.unobserve(associatedProductsContainer);try{const recommendationMarkup=await fetch(associatedProductsContainer.dataset.url,{method:"GET"}).then(response=>response.text());let recommendationHTML=document.createElement("div");recommendationHTML.innerHTML=recommendationMarkup;const recommendedItems=recommendationHTML.querySelector(".slider-items");recommendedItems&&recommendedItems.childElementCount>0&&associatedProductsContainer.querySelector(".slider-items").replaceWith(recommendedItems)}catch(error){console.error(error)}}}}}catch(e){console.error(e)}}(),function(){if(__sections__["s-header"])try{let initHeaderHandlers2=function(){if(window.addEventListener("scroll",throttle(headerVisibilityHandler2,300),{passive:!0}),window.addEventListener("scroll",headerShadowHandler2,{passive:!0}),headerShadowHandler2(),!document.querySelector("body").classList.contains("template-index"))return!1;window.addEventListener("scroll",headerLogoHandler2,{passive:!0}),headerLogoHandler2()},headerVisibilityHandler2=function(){if(headerSection.hasAttribute("data-currencies"))return!1;const currentScroll=window.scrollY;trophee.lastScrollY<currentScroll&&currentScroll>480?headerSection.setAttribute("data-hide",""):trophee.lastScrollY-currentScroll>=100&&headerSection.removeAttribute("data-hide"),trophee.lastScrollY=currentScroll},headerShadowHandler2=function(){const indexTemplate=document.querySelector("body").classList.contains("template-index"),currentScroll=window.scrollY;if(indexTemplate){const scrollOffset=parseInt(window.getComputedStyle(document.querySelector("main")).paddingTop.split("px").at(0));currentScroll>=headerSection.offsetTop&&currentScroll>=scrollOffset?headerSection.setAttribute("data-shadow",""):headerSection.removeAttribute("data-shadow")}else currentScroll>=headerSection.offsetTop?headerSection.setAttribute("data-shadow",""):headerSection.removeAttribute("data-shadow")},headerLogoHandler2=function(){window.scrollY>=headerSection.offsetTop&&window.scrollY>=10?headerContainer.removeAttribute("data-big"):headerContainer.setAttribute("data-big",""),console.log(window.scrollY,headerSection.offsetTop,window.scrollY>=headerSection.offsetTop)};var initHeaderHandlers=initHeaderHandlers2,headerVisibilityHandler=headerVisibilityHandler2,headerShadowHandler=headerShadowHandler2,headerLogoHandler=headerLogoHandler2;trophee.lastScrollY=window.scrollY;const headerSection=document.querySelector(".shopify-section-header"),headerContainer=document.querySelector(".s-header");initHeaderHandlers2(),window.addEventListener("click",event=>{const menuCurrenciesContainer=headerSection.querySelector(".menu-currencies-item");if(event.target===menuCurrenciesContainer.querySelector(".menu-link-container")||event.target===menuCurrenciesContainer.querySelector(".menu-title"))return headerSection.toggleAttribute("data-currencies"),!1;event.composedPath().slice(0,-2).find(element=>element?.classList.contains("menu-currencies-item"))===headerSection.querySelector(".menu-currencies-item")?headerSection.setAttribute("data-currencies",""):headerSection.removeAttribute("data-currencies")}),headerSection.querySelectorAll(".shop-currency-container").forEach(element=>{element.addEventListener("click",async event=>{if(element.hasAttribute("data-active"))return!1;const currencyCode=element.getAttribute("data-currency");await fetch(`${location.origin}/localization?form_type=localization&utf8=%E2%9C%93&_method=put&return_to=/&currency_code=${currencyCode}`,{method:"PUT"}),location.href=location.origin+location.pathname})})}catch(e){console.error(e)}}(),function(){if(__sections__["s-main-collection"])try{document.querySelector(".s-main-collection").addEventListener("click",event=>{const clickEventPath=event.composedPath().slice(0,-2);for(const element of clickEventPath)if(element.classList.contains("filter-title")){const associatedIndex=element.getAttribute("data-index"),filterContainers=element.closest(".collection-filters").querySelectorAll(".filter-container");console.log(filterContainers),filterContainers.forEach(container=>{const containerIndex=container.getAttribute("data-index");container.hasAttribute("data-active")?container.removeAttribute("data-active"):containerIndex===associatedIndex?container.setAttribute("data-active",""):container.removeAttribute("data-active")})}})}catch(e){console.error(e)}}(),function(){if(__sections__["s-main-product"])try{let updateMainProductData2=function(element){if(element.hasAttribute("data-active")||element.hasAttribute("data-alternate-color"))return!1;const optionContainers=element.closest(".product-options-container").querySelectorAll(".product-option-container");element.closest(".product-option-container").querySelectorAll(".option-value-container").forEach(optionValue=>{optionValue.removeAttribute("data-active")}),element.setAttribute("data-active","");let optionId="";optionContainers.forEach(optionContainer=>{const idFragment=optionContainer.querySelector("[data-active]").getAttribute("data-option");optionId!==""&&(optionId=optionId+"-"),optionId=optionId+idFragment});const variantsData=variantsMasterData??getVariantsData2(),newVariantId=getVariantId2(variantsData,optionId);addToCartButton.setAttribute("data-id",newVariantId),productSection.querySelector("#mainProductFormVariant").value=newVariantId,updateMainProductQuantity2(productSection.querySelector(".product-quantity-input"))},updateMainProductQuantity2=function(element){const variantId2=addToCartButton.getAttribute("data-id"),variantsData=variantsMasterData??getVariantsData2(),variantInventoryQuantity2=variantsData[variantId2].inventoryQuantity,variantInCartQuantity2=variantsData[variantId2].inCartQuantity,newQuantity=Math.min(parseInt(element.value),variantInventoryQuantity2,variantInCartQuantity2)||1;element.value=newQuantity,addToCartButton.setAttribute("data-quantity",newQuantity),variantInventoryQuantity2===0?addToCartButton.setAttribute("data-oos",""):variantInCartQuantity2>=variantInventoryQuantity2?addToCartButton.setAttribute("data-nms",""):(addToCartButton.removeAttribute("data-oos"),addToCartButton.removeAttribute("data-nms"),productSection.querySelector("#mainProductFormQuantity").value=newQuantity),productSection.querySelector(".product-atc-error-container").style.gridTemplateRows="0fr",setTimeout(()=>{productSection.querySelector(".product-atc-error-container").style.gridTemplateRows=null,productSection.querySelector(".product-atc-error-container").removeAttribute("data-oos"),productSection.querySelector(".product-atc-error-container").removeAttribute("data-nms")},200)},addMainProductToCart2=function(element){if(element.hasAttribute("data-oos"))return productSection.querySelector(".product-atc-error-container").setAttribute("data-oos",""),!1;if(element.hasAttribute("data-nms"))return productSection.querySelector(".product-atc-error-container").setAttribute("data-nms",""),!1;const mainProductFormSubmitButton=document.querySelector("#mainProductFormSubmit"),mainProductFormSubmitClickEvent=new PointerEvent("click",{bubbles:!0,cancelable:!0});mainProductFormSubmitButton.dispatchEvent(mainProductFormSubmitClickEvent);const variantId2=element.getAttribute("data-id"),variantQuantity=parseInt(element.getAttribute("data-quantity")),variantsData=variantsMasterData??getVariantsData2();variantsData[variantId2].inCartQuantity+=variantQuantity,updateMainProductQuantity2(productSection.querySelector(".product-quantity-input"))},getVariantsData2=function(){const variantsDataScript=productSection.querySelector("#variantsData");return JSON.parse(variantsDataScript.innerHTML)},getVariantId2=function(data,optionId){return Object.entries(data).find(([variantId2,variantData])=>variantData.optionId===optionId)[0]};var updateMainProductData=updateMainProductData2,updateMainProductQuantity=updateMainProductQuantity2,addMainProductToCart=addMainProductToCart2,getVariantsData=getVariantsData2,getVariantId=getVariantId2;const productSection=document.querySelector(".shopify-section-main-product"),variantsMasterData=getVariantsData2(),addToCartButton=productSection.querySelector(".product-add-to-cart"),variantId=addToCartButton.getAttribute("data-id"),variantInventoryQuantity=variantsMasterData[variantId].inventoryQuantity;variantsMasterData[variantId].inCartQuantity>=variantInventoryQuantity?addToCartButton.setAttribute("data-nms",""):variantInventoryQuantity==0&&addToCartButton.setAttribute("data-oos",""),productSection.addEventListener("click",event=>{const clickEventPath=event.composedPath().slice(0,-2);for(const element of clickEventPath)if(element.classList.contains("product-tab-title")){if(element.hasAttribute("data-active"))return!1;const container=element.closest(".product-description-tabs-container"),tabIndex=parseInt(element.getAttribute("data-index"));container.querySelectorAll("[data-active]").forEach(activeElement=>{activeElement.removeAttribute("data-active")}),container.querySelector(".product-tab-titles").children[tabIndex].setAttribute("data-active",""),container.querySelector(".product-tab-contents").children[tabIndex].setAttribute("data-active","")}else element.classList.contains("option-value-container")?updateMainProductData2(element):element.classList.contains("product-add-to-cart")&&addMainProductToCart2(element)}),productSection.addEventListener("change",event=>{const clickEventPath=event.composedPath().slice(0,-2);for(const element of clickEventPath)element.classList.contains("product-quantity-input")&&updateMainProductQuantity2(element)})}catch(e){console.error(e)}}(),function(){if(__sections__["s-menu-drawer"])try{document.querySelectorAll(".s-menu-drawer [data-dropdown]").forEach(element=>{element.addEventListener("click",event=>{event.preventDefault();const menuItem=event.currentTarget.closest(".menu-item");menuItem.hasAttribute("data-open")?menuItem.removeAttribute("data-open"):menuItem.setAttribute("data-open","")})})}catch(e){console.error(e)}}()})();
//# sourceMappingURL=/cdn/shop/t/8/compiled_assets/scripts.js.map?3177=
